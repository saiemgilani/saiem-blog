{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\saiem\\\\Documents\\\\GitHub\\\\saiem-blog\\\\src\\\\theme\\\\ThemeProvider.tsx\";\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { MuiThemeProvider, CssBaseline } from '@material-ui/core';\nimport { lightTheme, darkTheme } from './theme';\nexport const ToggleThemeContext = /*#__PURE__*/React.createContext({\n  toggleTheme: () => {\n    console.log();\n  },\n  isDark: false\n});\nexport const ThemeProvider = ({\n  children\n}) => {\n  const {\n    0: selectedTheme,\n    1: setSelectedTheme\n  } = useState({\n    appliedTheme: darkTheme,\n    themeName: 'darkTheme'\n  });\n  useEffect(() => {\n    const theme = localStorage.getItem('theme');\n\n    if (theme && theme === 'lightTheme') {\n      setSelectedTheme({\n        appliedTheme: lightTheme,\n        themeName: 'lightTheme'\n      });\n    }\n  }, []);\n  const toggleTheme = useCallback(() => {\n    if (!selectedTheme || selectedTheme.themeName === 'darkTheme') {\n      setSelectedTheme({\n        appliedTheme: lightTheme,\n        themeName: 'lightTheme'\n      });\n      localStorage.setItem('theme', 'lightTheme');\n    } else {\n      setSelectedTheme({\n        appliedTheme: darkTheme,\n        themeName: 'darkTheme'\n      });\n      localStorage.setItem('theme', 'darkTheme');\n    }\n  }, [selectedTheme, setSelectedTheme]);\n  return /*#__PURE__*/_jsxDEV(ToggleThemeContext.Provider, {\n    value: {\n      toggleTheme,\n      isDark: !(selectedTheme.themeName === 'lightTheme')\n    },\n    children: /*#__PURE__*/_jsxDEV(MuiThemeProvider, {\n      theme: selectedTheme.appliedTheme,\n      children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), children]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\nexport default ThemeProvider;","map":{"version":3,"sources":["C:/Users/saiem/Documents/GitHub/saiem-blog/src/theme/ThemeProvider.tsx"],"names":["React","useCallback","useEffect","useState","MuiThemeProvider","CssBaseline","lightTheme","darkTheme","ToggleThemeContext","createContext","toggleTheme","console","log","isDark","ThemeProvider","children","selectedTheme","setSelectedTheme","appliedTheme","themeName","theme","localStorage","getItem","setItem"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,WAAhB,EAA6BC,SAA7B,EAAwCC,QAAxC,QAAwD,OAAxD;AACA,SAASC,gBAAT,EAA2BC,WAA3B,QAA8C,mBAA9C;AACA,SAASC,UAAT,EAAqBC,SAArB,QAAsC,SAAtC;AAOA,OAAO,MAAMC,kBAAkB,gBAAGR,KAAK,CAACS,aAAN,CAAoB;AACpDC,EAAAA,WAAW,EAAE,MAAM;AACjBC,IAAAA,OAAO,CAACC,GAAR;AACD,GAHmD;AAIpDC,EAAAA,MAAM,EAAE;AAJ4C,CAApB,CAA3B;AAYP,OAAO,MAAMC,aAA2C,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAsC;AAC/F,QAAM;AAAA,OAACC,aAAD;AAAA,OAAgBC;AAAhB,MAAoCd,QAAQ,CAAgB;AAAEe,IAAAA,YAAY,EAAEX,SAAhB;AAA2BY,IAAAA,SAAS,EAAE;AAAtC,GAAhB,CAAlD;AAEAjB,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMkB,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;;AACA,QAAIF,KAAK,IAAIA,KAAK,KAAK,YAAvB,EAAqC;AACnCH,MAAAA,gBAAgB,CAAC;AAAEC,QAAAA,YAAY,EAAEZ,UAAhB;AAA4Ba,QAAAA,SAAS,EAAE;AAAvC,OAAD,CAAhB;AACD;AACF,GALQ,EAKN,EALM,CAAT;AAOA,QAAMT,WAAW,GAAGT,WAAW,CAAC,MAAM;AACpC,QAAI,CAACe,aAAD,IAAkBA,aAAa,CAACG,SAAd,KAA4B,WAAlD,EAA+D;AAC7DF,MAAAA,gBAAgB,CAAC;AAAEC,QAAAA,YAAY,EAAEZ,UAAhB;AAA4Ba,QAAAA,SAAS,EAAE;AAAvC,OAAD,CAAhB;AACAE,MAAAA,YAAY,CAACE,OAAb,CAAqB,OAArB,EAA8B,YAA9B;AACD,KAHD,MAGO;AACLN,MAAAA,gBAAgB,CAAC;AAAEC,QAAAA,YAAY,EAAEX,SAAhB;AAA2BY,QAAAA,SAAS,EAAE;AAAtC,OAAD,CAAhB;AACAE,MAAAA,YAAY,CAACE,OAAb,CAAqB,OAArB,EAA8B,WAA9B;AACD;AACF,GAR8B,EAQ5B,CAACP,aAAD,EAAgBC,gBAAhB,CAR4B,CAA/B;AAUA,sBACE,QAAC,kBAAD,CAAoB,QAApB;AAA6B,IAAA,KAAK,EAAE;AAAEP,MAAAA,WAAF;AAAeG,MAAAA,MAAM,EAAE,EAAEG,aAAa,CAACG,SAAd,KAA4B,YAA9B;AAAvB,KAApC;AAAA,2BACE,QAAC,gBAAD;AAAkB,MAAA,KAAK,EAAEH,aAAa,CAACE,YAAvC;AAAA,8BACE,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA,cADF,EAEGH,QAFH;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAQD,CA5BM;AA8BP,eAAeD,aAAf","sourcesContent":["import React, { useCallback, useEffect, useState } from 'react'\r\nimport { MuiThemeProvider, CssBaseline } from '@material-ui/core'\r\nimport { lightTheme, darkTheme } from './theme'\r\nimport { Theme } from '@material-ui/core'\r\n\r\ninterface ThemeProviderProps {\r\n  children: React.ReactNode\r\n}\r\n\r\nexport const ToggleThemeContext = React.createContext({\r\n  toggleTheme: () => {\r\n    console.log()\r\n  },\r\n  isDark: false,\r\n})\r\n\r\ntype SelectedTheme = {\r\n  themeName: string\r\n  appliedTheme: Theme\r\n}\r\n\r\nexport const ThemeProvider: React.FC<ThemeProviderProps> = ({ children }: ThemeProviderProps) => {\r\n  const [selectedTheme, setSelectedTheme] = useState<SelectedTheme>({ appliedTheme: darkTheme, themeName: 'darkTheme' })\r\n\r\n  useEffect(() => {\r\n    const theme = localStorage.getItem('theme')\r\n    if (theme && theme === 'lightTheme') {\r\n      setSelectedTheme({ appliedTheme: lightTheme, themeName: 'lightTheme' })\r\n    }\r\n  }, [])\r\n\r\n  const toggleTheme = useCallback(() => {\r\n    if (!selectedTheme || selectedTheme.themeName === 'darkTheme') {\r\n      setSelectedTheme({ appliedTheme: lightTheme, themeName: 'lightTheme' })\r\n      localStorage.setItem('theme', 'lightTheme')\r\n    } else {\r\n      setSelectedTheme({ appliedTheme: darkTheme, themeName: 'darkTheme' })\r\n      localStorage.setItem('theme', 'darkTheme')\r\n    }\r\n  }, [selectedTheme, setSelectedTheme])\r\n\r\n  return (\r\n    <ToggleThemeContext.Provider value={{ toggleTheme, isDark: !(selectedTheme.themeName === 'lightTheme') }}>\r\n      <MuiThemeProvider theme={selectedTheme.appliedTheme}>\r\n        <CssBaseline />\r\n        {children}\r\n      </MuiThemeProvider>\r\n    </ToggleThemeContext.Provider>\r\n  )\r\n}\r\n\r\nexport default ThemeProvider\r\n"]},"metadata":{},"sourceType":"module"}